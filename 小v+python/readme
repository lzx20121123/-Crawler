
小V性能测试用例


所需硬件设备：2台同配置型号的路由器，10台普通测试机
测试环境：给两个路由器分配相同的带宽，100条本地缓存的白名单网址，100条本地缓存为灰名单url云服务器上为白名单的网址

一、测试小V对访问网络的影响

场景1：访问本地缓存白名单网址
5台测试机连上无小V接入的路由器ping 100条本地缓存的白名单网址各1000次，采集5台测试机访问各网址的响应时间，网络抖动和路由器的网络吞吐量；
     5台测试机连上有小V接入的路由器ping 100条本地缓存的白名单网址各1000次，采集5台测试机访问各网址的响应时间，网络抖动和路由器的网络吞吐量。
统计5台测试机上每个网址的平均响应时间，对比有小V接入和无小V时的测试结果

测试结果预期：无明显响应时间差异

场景2：访问过url云查白名单的网址
5台测试机连上无小V接入的路由器ping 100条需过url云查的白名单网址各1000次，采集5台测试机访问各网址的响应时间，网络抖动和路由器的网络吞吐量；
     5台测试机连上有小V接入路由器ping 100条需过url云查的白名单网址各1000次，采集5台测试机访问各网址的响应时间，网络抖动和路由器的网络吞吐量。
统计5台测试机上每个网址的平均响应时间，对比有小V接入和无小V时的测试结果

测试结果预期：响应时间有差异，差异在1s内可接受


二、测试小V对设备接入数量的影响（压力测试）
场景：小V接入时，采集最大数量设备接入路由器访问白名单网址的连接情况。
预期结果：连续运行24小时以上，无大量访问超时


附：网络性能指标
1、网络可用性。
   网络是否能正常通信，路径是否可达，用ping来测试网络连通性。
2、网络响应时间
   终端发起到远端的连接请求，到收到远端的回复所需的时间。用ping命令来测试网络响应时间。
3、网络抖动
   分组延迟的变化程度。如果网络发生拥塞，排队延迟将影响端到端的延迟，并导致通过同一连接传输的分组延迟各不相同，抖动就是用来描述这样一延迟变化的程度。用ping –t 查看网络响应时间，响应时间差不多则网络平稳抖动少；出现大延迟的数据包，或者丢包，则网络抖动大，网络性能不好。
4、网络吞吐量
   单位时间内通过某个网络的数据量。吞吐量受网络的带宽或网络额定速率的限制。可以在交换机上通过 show interface summary 命令产看交换机端口的数据流量。
